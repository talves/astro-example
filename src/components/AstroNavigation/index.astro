---
import NavigationBar from "./NavigationBar/index.astro";
import Navigation from "./Navigation/index.astro";
const data = Astro.props.data || {};
---
<script>
    // setup ThemeSwitcher for color theme dark/light mode

    let theme: string;
    if (typeof window !== "undefined") {
    theme = localStorage.getItem("color-theme");
    if (theme === null || !["dark", "light"].includes(theme)) {
        console.log(`checking system pref`);
        const systemSetToDark = window.matchMedia(
        "(prefers-color-scheme: dark)"
        ).matches;
        theme = systemSetToDark ? "dark" : "light";
    }
    if (["dark", "light"].includes(theme)) {
        document.documentElement.classList.remove(theme === "dark" ? "light" : "dark");
        document.documentElement.classList.add(theme);
    } else {
        document.documentElement.classList.remove("light");
    }
    console.log("theme:",theme)
    }
</script>
<NavigationBar>
    <Navigation data={data} toggle={false}/>
</NavigationBar>

